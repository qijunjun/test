/*! 
 * jQuery Bootgrid v1.3.1 - 09/11/2015
 * Copyright (c) 2014-2015 Rafael Staib (http://www.jquery-bootgrid.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
/*
	Revision 00061 - 2016/06/20
	Originated By Rafael Staib (http://www.jquery-bootgrid.com)
	Edited By James "Carbon" leon Neo
 */
!function(t,e,i){"use strict";function s(t){function e(e){return i.identifier&&e[i.identifier]==t[i.identifier]}var i=this;return this.rows.contains(e)?!1:(this.rows.push(t),!0)}function n(e){var i=this.footer?this.footer.find(e):t(),s=this.header?this.header.find(e):t();return t.merge(i,s)}function o(e){return e?t.extend({},this.cachedParams,{ctx:e}):this.cachedParams}function r(){var e={page:this.current,size:this.rowCount,conditions:this.searchConditions,sort:this.sortDictionary},i=this.options.post;return i=t.isFunction(i)?i():i,this.options.requestHandler(t.extend(!0,e,i))}function a(e){return"."+t.trim(e).replace(/\s+/gm,".")}function l(){var e=this.options.url;return t.isFunction(e)?e():e}function c(){this.element.trigger("initialize"+T),this.initialized=!1,p.call(this),this.selection=this.options.selection&&null!=this.identifier,f.call(this),v.call(this),I.call(this),S.call(this),m.call(this),u.call(this);var e,i,s,n;for(e=this,i=this.element.parent().prev(),n=0;i.length&&2>n&&!i.children("table").length;n++){if(s=i.children("div.search"),s.length){s.click(function(){e.search(t(this).next().val())});break}i=i.prev()}this.element.trigger("initialized"+T)}function h(t){this.options.highlightRows}function d(t){return t.visible}function p(){var e=this,i=this.element.find("thead > tr").first(),s=!1;i.children().each(function(){var i=t(this),n=i.data(),o={id:n.columnId,identifier:null==e.identifier&&n.identifier||!1,converter:e.options.converters[n.converter||n.type]||e.options.converters.string,text:i.text(),align:n.align||"left",headerAlign:n.headerAlign||"left",cssClass:n.cssClass||"",headerCssClass:n.headerCssClass||"",formatter:e.options.formatters[n.formatter]||null,order:s||"asc"!==n.order&&"desc"!==n.order?null:n.order,searchable:!(n.searchable===!1),matchable:!(n.matchable===!1),sortable:!(n.sortable===!1),visible:!(n.visible===!1),visibleInSelection:!(n.visibleInSelection===!1),width:t.isNumeric(n.width)?n.width+"px":"string"==typeof n.width?n.width:null};e.columns.push(o),e.columnMap[o.id]=o,null!=o.order&&(e.sortDictionary[o.id]=o.order),o.identifier&&(e.identifier=o.id,e.converter=o.converter),e.options.multiSort||null===o.order||(s=!0)})}function u(){function i(t,e){var s,o,r,a,l,c,h,d,p,u;e||(e=n.searchConditions),s="relation"in e?e.relation:1,o=1==s;for(r in e){if(l=e[r],a=n.columnMap[r]){if(a.searchable&&a.visible)switch(h=l.type){case"value":p=t[r]==l.criterion;break;case"pattern":a.matchable&&t[r]?(c=new RegExp(l.criterion,n.options.caseSensitive?"g":"gi"),p=t[r].toString().search(c)>-1):delete e[r];break;case"interval":case"array":if(d=l.criterion,"interval"!=h||2!=d.length||isNaN(d[0])||isNaN(d[1])||(p=t[r]>=d[0]&&t[r]<=d[1]),"array"==h){for(u=0;u<d.length&&t[r]!=d[u];u++);p=u<d.length}}}else"relation"!=r&&(p=i(t,l));if(p==!s){o=p;break}}return o}function s(t,e){n.currentRows=t,g.call(n,e),n.options.keepSelection||(n.selectedRows=[]),k.call(n,t),w.call(n),x.call(n),n.element._bgBusyAria(!1).trigger("loaded"+T)}var n=this;if(this.element._bgBusyAria(!0).trigger("load"+T),j.call(this),this.options.ajax){var o=r.call(this),a=l.call(this);if(null==a||"string"!=typeof a||0===a.length)throw new Error("Url setting must be a none empty string or a function that returns one.");this.xqr&&this.xqr.abort();var c={url:a,data:o,success:function(e){if(n.xqr=null,"string"==typeof e&&(e=t.parseJSON(e)),e=n.options.responseHandler(e),"001"==e.code){e=e.result,n.current=parseInt(e.current),n.initialized||(n.localData=e.rows.length==e.total,n.initialized=!0),n.options.ajax=e.rows.length!=e.total;var i=e.rows;n.options.ajax||(n.rows=i,i=i.page(n.current,n.rowCount)),s(i,e.total)}else console.error(e.code,e.msg)},error:function(t,e,i){n.xqr=null,"abort"!==e&&(y.call(n),n.element._bgBusyAria(!1).trigger("loaded"+T))}};c=t.extend(this.options.ajaxSettings,c),this.xqr=t.ajax(c)}else{var h,d;d=!1;for(h in this.searchConditions){d=!0;break}var p=d?this.rows.where(i):this.rows,u=p.length;-1!==this.rowCount&&(p=p.page(this.current,this.rowCount)),e.setTimeout(function(){s(p,u)},10)}}function f(){if(!this.options.ajax){var e=this,i=this.element.find("tbody > tr");i.each(function(){var i=t(this),n=i.children("td"),o={};t.each(e.columns,function(t,e){o[e.id]=e.converter.from(n.eq(t).text())}),s.call(e,o)}),this.initialized=!0,this.localData=!0,g.call(this,this.rows.length),B.call(this)}}function g(t){this.total=t,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount)}function v(){var e=this.options.templates,i=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(e.body),1&this.options.navigation&&(this.header=t(e.header.resolve(o.call(this,{id:this.element._bgId()+"-header"}))),i.before(this.header)),2&this.options.navigation&&(this.footer=t(e.footer.resolve(o.call(this,{id:this.element._bgId()+"-footer"}))),i.after(this.footer))}function m(){if(0!==this.options.navigation){var e=this.options.css,i=a(e.actions),s=n.call(this,i);if(s.length>0){var r=this,l=this.options.templates,c=t(l.actions.resolve(o.call(this)));if(this.options.ajax){var h=l.icon.resolve(o.call(this,{iconCss:e.iconRefresh})),d=t(l.actionButton.resolve(o.call(this,{content:h,text:this.options.labels.refresh}))).on("click"+T,function(t){t.stopPropagation(),r.current=1,u.call(r)});c.append(d)}D.call(this,c),b.call(this,c),P.call(this,s,c)}}}function b(e){if(this.options.columnSelection&&this.columns.length>1){var i=this,s=this.options.css,n=this.options.templates,r=n.icon.resolve(o.call(this,{iconCss:s.iconColumns})),l=t(n.actionDropDown.resolve(o.call(this,{content:r}))),c=a(s.dropDownItem),h=a(s.dropDownItemCheckbox),p=a(s.dropDownMenuItems);t.each(this.columns,function(e,r){if(r.visibleInSelection){var f=t(n.actionDropDownCheckboxItem.resolve(o.call(i,{name:r.id,label:r.text,checked:r.visible}))).on("click"+T,c,function(e){e.stopPropagation();var s=t(this),n=s.find(h);if(!n.prop("disabled")){r.visible=n.prop("checked");var o=i.columns.where(d).length>1;s.parents(p).find(c+":has("+h+":checked)")._bgEnableAria(o).find(h)._bgEnableField(o),i.element.find("tbody").empty(),I.call(i),u.call(i)}});l.find(a(s.dropDownMenuItems)).append(f)}}),e.append(l)}}function w(){if(0!==this.options.navigation){var e=a(this.options.css.infos),i=n.call(this,e);if(this.total<1)return void(i[0].innerHTML="");if(i.length>0){var s=this.current*this.rowCount,r=t(this.options.templates.infos.resolve(o.call(this,{end:0===this.total||-1===s||s>this.total?this.total:s,start:0===this.total?0:s-this.rowCount+1,total:this.total})));P.call(this,i,r)}}}function y(){var t=this.element.children("tbody").first(),e=this.options.templates,i=this.columns.where(d).length;this.selection&&(i+=1),t.html(e.noResults.resolve(o.call(this,{columns:i})))}function x(){if(0!==this.options.navigation){var e=a(this.options.css.pagination),i=n.call(this,e)._bgShowAria(-1!==this.rowCount);if(this.totalPages<=1)return void(i[0].innerHTML="");if(-1!==this.rowCount&&i.length>0){var s=this.options.templates,r=this.current,l=this.totalPages,c=t(s.pagination.resolve(o.call(this))),h=l-r,d=-1*(this.options.padding-r),p=h>=this.options.padding?Math.max(d,1):Math.max(d-this.options.padding+h,1),f=2*this.options.padding+1,g=l>=f?f:l;C.call(this,c,"first","&laquo;","first")._bgEnableAria(r>1),C.call(this,c,"prev","&lt;","prev")._bgEnableAria(r>1);for(var v=0;g>v;v++){var m=v+p;C.call(this,c,m,m,"page-"+m)._bgEnableAria()._bgSelectAria(m===r)}0===g&&C.call(this,c,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),C.call(this,c,"next","&gt;","next")._bgEnableAria(l>r),C.call(this,c,"last","&raquo;","last")._bgEnableAria(l>r);var b,w,y,x,D,k,A;b=this,w=document.createElement("div"),y=document.createElement("span"),x=document.createElement("span"),k=document.createElement("input"),A=document.createElement("input"),y.innerHTML="共 "+l+" 页",y.style.padding="3px 12px",k.type="text",k.dataset.noCheck="noCheck",k.style.width="25px",k.style.height="20px",A.type="button",A.value="确定",A.style.marginLeft="6px",t(A).on("click",function(){var t,e;t=this.parentNode.children[0],e=parseInt(t.value),!isNaN(e)&&e>0&&e<=b.totalPages?(b.current=e,u.call(b)):t.value=""}),D=document.createTextNode("跳转到"),x.appendChild(D),x.appendChild(k),D=document.createTextNode("页"),x.appendChild(D),x.appendChild(A),x.style.marginLeft="6px",y.appendChild(x),w.appendChild(y),c[0].appendChild(w),P.call(this,i,c)}}}function C(e,i,s,n){var r=this,l=this.options.templates,c=this.options.css,h=o.call(this,{css:n,text:s,page:i}),d=t(l.paginationItem.resolve(h)).on("click"+T,a(c.paginationButton),function(e){e.stopPropagation(),e.preventDefault();var i=t(this),s=i.parent();if(!s.hasClass("active")&&!s.hasClass("disabled")){var n={first:1,prev:r.current-1,next:r.current+1,last:r.totalPages},o=i.data("page");r.current=n[o]||o,u.call(r)}i.trigger("blur")});return e.append(d),d}function D(e){function i(t){return-1===t?s.options.labels.all:t}var s=this,n=this.options.rowCount;if(t.isArray(n)){var r=this.options.css,l=this.options.templates,c=t(l.actionDropDown.resolve(o.call(this,{content:i(this.rowCount)}))),h=a(r.dropDownMenu),d=a(r.dropDownMenuText),p=a(r.dropDownMenuItems),f=a(r.dropDownItemButton);t.each(n,function(e,n){var r=t(l.actionDropDownItem.resolve(o.call(s,{text:i(n),action:n})))._bgSelectAria(n===s.rowCount).on("click"+T,f,function(e){e.preventDefault();var n=t(this),o=n.data("action");o!==s.rowCount&&(s.current=1,s.rowCount=o,n.parents(p).children().each(function(){var e=t(this),i=e.find(f).data("action");e._bgSelectAria(i===o)}),n.parents(h).find(d).text(i(o)),u.call(s))});c.find(p).append(r)}),e.append(c)}}function k(e){if(e.length>0){var i=this,s=this.options.css,n=this.options.templates,r=this.element.children("tbody").first(),l=!0,c="";t.each(e,function(e,r){var a="",h=' data-row-id="'+e+'"',d="";if(i.selection&&!r.disableSelection){var p=i.options.multiSelect?"checkbox":"radio",u=-1!==t.inArray(r[i.identifier],i.selectedRows),f=n.select.resolve(o.call(i,{type:p,value:r[i.identifier],checked:u}));a+=n.cell.resolve(o.call(i,{content:f,css:s.selectCell})),l=l&&u,u&&(d+=s.selected,h+=' aria-selected="true"')}var g=i.options.enableStatusMapping&&null!=r.status&&i.options.statusMapping[r.status];g&&(d+=g),t.each(i.columns,function(e,l){if(l.visible){var c=t.isFunction(l.formatter)?l.formatter.call(i,l,r):l.converter.to(r[l.id]),h=l.cssClass.length>0?" "+l.cssClass:"";a+=n.cell.resolve(o.call(i,{content:null==c||""===c?"&nbsp;":c,css:("right"===l.align?s.right:"center"===l.align?s.center:s.left)+h,style:null==l.width?"":"width:"+l.width+";"}))}}),d.length>0&&(h+=' class="'+d+'"'),c+=n.row.resolve(o.call(i,{attr:h,cells:a}))}),i.element.find("thead "+a(i.options.css.selectBox)).prop("checked",l),r.html(c),A.call(this,r)}else y.call(this)}function A(e){var i=this,s=a(this.options.css.selectBox);this.selection&&e.off("click"+T,s).on("click"+T,s,function(e){e.stopPropagation();var s=t(this),n=i.converter.from(s.val());s.prop("checked")?i.select([n]):i.deselect([n])}),e.off("click"+T,"> tr").on("click"+T,"> tr",function(e){e.stopPropagation();var s=t(this),n=s.data("row-id"),o=i.currentRows[n];i.selection&&i.options.rowSelect&&(s.hasClass(i.options.css.selected)?i.deselect([n]):i.select([n])),i.element.trigger("click"+T,[i.columns,o])})}function S(){if(this.options.withSearchField&&0!==this.options.navigation){var i=this.options.css,s=a(i.search),r=n.call(this,s);if(r.length>0){var l=this,c=this.options.templates,h=null,d="",p=a(i.searchField),u=t(c.search.resolve(o.call(this))),f=u.is(p)?u:u.find(p);f.on("keyup"+T,function(i){i.stopPropagation();var s=t(this).val();(d!==s||13===i.which&&""!==s)&&(d=s,(13===i.which||0===s.length||s.length>=l.options.searchSettings.characters)&&(e.clearTimeout(h),h=e.setTimeout(function(){_.call(l,s)},l.options.searchSettings.delay)))}),P.call(this,r,u)}}}function R(t){var e,i,s,n,o,r,a,l,c;e={},r=0,a=0;for(i in t)if(n=t[i],this.columnMap[i]){if(s=!1,!n)continue;switch(o=n.criterion,n.type){case"value":s=o;break;case"pattern":s="string"==typeof o;break;case"interval":case"array":s=o instanceof Array}s&&(e[i]=n,r++)}else if("relation"!=i&&n instanceof Object&&!(n instanceof Array)){l=R.call(this,n),s=!1;for(i in l){s=!0;break}s&&(e["_complex_"+a++]=l,r++)}return c=t.relation,r>1&&(0==c||1==c?e.relation=c:e.relation=1),e}function _(t){var e,i,s,n,o;if(t||""==t){if(this.current=1,"string"==typeof t){if(this.searchPhrase==t)return;this.searchPhrase=t}else this.searchCriteria=R.call(this,t);if(this.searchPhrase){e={};for(i in this.columnMap)o=this.columnMap[i],o.matchable&&(e[i]={type:"pattern",criterion:this.searchPhrase});s=0;for(i in e)if(s++,s>1)break;s>1&&(e.relation=0),n=!1;for(i in this.searchCriteria){n=!0;break}s&&n?this.searchConditions={_pattern:e,_criteria:this.searchCriteria,relation:1}:s?this.searchConditions=e:n?this.searchConditions=this.searchCriteria:this.searchConditions={}}else this.searchConditions=this.searchCriteria}else this.searchPhrase="",this.searchCriteria={},this.searchConditions={};this.initialized&&(this.options.ajax=!this.localData),u.call(this)}function I(){var e=this,i=this.element.find("thead > tr"),s=this.options.css,n=this.options.templates,r="",l=this.options.sorting;if(this.selection){var c=this.options.multiSelect?n.select.resolve(o.call(e,{type:"checkbox",value:"all"})):"";r+=n.rawHeaderCell.resolve(o.call(e,{content:c,css:s.selectCell}))}if(t.each(this.columns,function(t,i){if(i.visible){var a=e.sortDictionary[i.id],c=l&&a&&"asc"===a?s.iconUp:l&&a&&"desc"===a?s.iconDown:"",h=n.icon.resolve(o.call(e,{iconCss:c})),d=i.headerAlign,p=i.headerCssClass.length>0?" "+i.headerCssClass:"";r+=n.headerCell.resolve(o.call(e,{column:i,icon:h,sortable:l&&i.sortable&&s.sortable||"",css:("right"===d?s.right:"center"===d?s.center:s.left)+p,style:null==i.width?"":"width:"+i.width+";"}))}}),i.html(r),l){var h=a(s.sortable);i.off("click"+T,h).on("click"+T,h,function(i){i.preventDefault(),M.call(e,t(this)),B.call(e),u.call(e)})}if(this.selection&&this.options.multiSelect){var d=a(s.selectBox);i.off("click"+T,d).on("click"+T,d,function(i){i.stopPropagation(),t(this).prop("checked")?e.select():e.deselect()})}}function M(t){var e=this.options.css,i=a(e.icon),s=t.data("column-id")||t.parents("th").first().data("column-id"),n=this.sortDictionary[s],o=t.find(i);if(this.options.multiSort||(t.parents("tr").first().find(i).removeClass(e.iconDown+" "+e.iconUp),this.sortDictionary={}),n&&"asc"===n)this.sortDictionary[s]="desc",o.removeClass(e.iconUp).addClass(e.iconDown);else if(n&&"desc"===n)if(this.options.multiSort){var r={};for(var l in this.sortDictionary)l!==s&&(r[l]=this.sortDictionary[l]);this.sortDictionary=r,o.removeClass(e.iconDown)}else this.sortDictionary[s]="asc",o.removeClass(e.iconDown).addClass(e.iconUp);else this.sortDictionary[s]="asc",o.addClass(e.iconUp)}function P(e,i){e.each(function(e,s){t(s).before(i).remove()})}function j(){var t=this;e.setTimeout(function(){if("true"===t.element._bgAria("busy")){var e=t.options.templates,i=t.element.children("thead").first(),s=t.element.children("tbody").first(),n=s.find("tr > td").first(),r=t.element.height()-i.height()-(n.height()+20),a=t.columns.where(d).length;t.selection&&(a+=1),s.html(e.loading.resolve(o.call(t,{columns:a}))),-1!==t.rowCount&&r>0&&s.find("tr > td").css("padding","20px 0 "+r+"px")}},250)}function B(){function t(i,s,n){function o(t){return"asc"===a.order?t:-1*t}n=n||0;var r=n+1,a=e[n];return i[a.id]>s[a.id]?o(1):i[a.id]<s[a.id]?o(-1):e.length>r?t(i,s,r):0}var e=[];if(!this.options.ajax){for(var i in this.sortDictionary)(this.options.multiSort||0===e.length)&&e.push({id:i,order:this.sortDictionary[i]});e.length>0&&this.rows.sort(t)}}var T=".rs.jquery.bootgrid",E=function(e,i){this.element=t(e),this.origin=this.element.clone(),this.options=t.extend(!0,{},E.defaults,this.element.data(),i);var s=this.options.rowCount=this.element.data().rowCount||i.rowCount||this.options.rowCount;this.columns=[],this.columnMap={},this.current=1,this.currentRows=[],this.identifier=i.identifier||null,this.converter=this.options.converters[i.converter||i.type]||this.options.converters.string,this.selection=!1,this.rowCount=t.isArray(s)?s[0]:s,this.rows=i.data||[],this.searchPhrase="",this.searchRelation=1,this.searchCriteria={},this.selectedRows=[],this.sortDictionary={},this.total=0,this.totalPages=0,this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}},this.header=null,this.footer=null,this.xqr=null};if(E.defaults={navigation:2,padding:2,columnSelection:!0,rowCount:[10,25,50,-1],selection:!1,multiSelect:!1,rowSelect:!1,keepSelection:!1,highlightRows:!1,sorting:!0,multiSort:!1,searchSettings:{delay:250,characters:1},ajax:!1,ajaxSettings:{method:"POST"},post:{},url:"",caseSensitive:!0,requestHandler:function(t){return t},responseHandler:function(t){return t},converters:{numeric:{from:function(t){return+t},to:function(t){return t+""}},string:{from:function(t){return t},to:function(t){return t}},date:{to:function(t){var e;return null!=t&&t!=i?(t=t.toString().length<12?t+"000":t,e=new Date(parseInt(t)),e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"):""}},datetime:{to:function(t){var e,s,n,o,r,a;return null!=t&&t!=i?(t=t.toString().length<12?t+"000":t,e=new Date(parseInt(t)),s=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",n="",o=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),n+=(10>o?"0":"")+o+":",n+=(10>r?"0":"")+r+":",n+=(10>a?"0":"")+a,s+" "+n):""}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer container-fluid",header:"bootgrid-header container-fluid",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconSearch:"glyphicon-search",iconUp:"glyphicon-chevron-up",infos:"infos",left:"text-left",pagination:"pagination",paginationButton:"button",responsiveTable:"table-responsive",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"显示所有项",infos:"当前显示第 {{ctx.start}} 至 {{ctx.end}} 项，共 {{ctx.total}} 项",loading:"加载中...",noResults:"没有找到结果！",refresh:"刷新",search:"搜索"},statusMapping:{0:"success",1:"info",2:"warning",3:"danger"},enableStatusMapping:!1,templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a data-action="{{ctx.action}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}</label></li>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}" style="{{ctx.style}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-sm-6 infoBar"><p class="{{css.infos}}"></p></div><div class="col-sm-6"><p class="{{css.pagination}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-sm-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}" style="{{ctx.style}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<div class="{{css.infos}}">{{lbl.infos}}</div>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}"><a data-page="{{ctx.page}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon {{css.iconSearch}}"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} />'},withSearchField:!0},E.prototype.append=function(t){if(this.options.ajax)u.call(this);else{for(var e=[],i=0;i<t.length;i++)s.call(this,t[i])&&e.push(t[i]);B.call(this),h.call(this,e),u.call(this),this.element.trigger("appended"+T,[e])}return this},E.prototype.clear=function(){if(this.options.ajax)u.call(this);else{var e=t.extend([],this.rows);this.rows=[],this.current=1,this.total=0,u.call(this),this.element.trigger("cleared"+T,[e])}return this},E.prototype.destroy=function(){return t(e).off(T),1&this.options.navigation&&this.header.remove(),2&this.options.navigation&&this.footer.remove(),this.element.before(this.origin).remove(),this},E.prototype.reload=function(){return this.current=1,u.call(this),this},E.prototype.update=function(t,e){if(null!=this.identifier)if(this.options.ajax)u.call(this);else{for(var i,s,n=[],o=0;o<t.length&&(i=t[o],s=e[o],s);o++)for(var r=0;r<this.rows.length;r++)if(this.rows[r][this.identifier]==i){n.push(this.rows[r]);for(var a in s)this.rows[r][a]=s[a];break}u.call(this),this.element.trigger("updated"+T,[n])}return this},E.prototype.remove=function(t){if(null!=this.identifier)if(this.options.ajax)u.call(this);else{t=t||this.selectedRows;for(var e,i=[],s=0;s<t.length;s++){e=t[s];for(var n=0;n<this.rows.length;n++)if(this.rows[n][this.identifier]==e){i.push(this.rows[n]),this.rows.splice(n,1);break}}u.call(this),this.element.trigger("removed"+T,[i])}return this},E.prototype.search=function(t){if("string"==typeof t&&this.searchPhrase!==t){var e=a(this.options.css.searchField),i=n.call(this,e);i.val(t)}return _.call(this,t),this},E.prototype.select=function(e){if(this.selection){e=e||this.currentRows.propValues(this.identifier);for(var i,s,n,o=[];e.length>0&&(this.options.multiSelect||1!==o.length);)if(i=e.pop(),-1===t.inArray(i,this.selectedRows))for(s=0;s<this.currentRows.length;s++)if(n=this.currentRows[s],!n.disableSelection&&n[this.identifier]==i){o.push(n),this.selectedRows.push(i);break}if(o.length>0){var r=a(this.options.css.selectBox),l=this.selectedRows.length>=this.currentRows.length;for(s=0;!this.options.keepSelection&&l&&s<this.currentRows.length;)l=-1!==t.inArray(this.currentRows[s++][this.identifier],this.selectedRows);for(this.element.find("thead "+r).prop("checked",l),!this.options.multiSelect&&this.selectedRows.length>1&&this.deselect([this.selectedRows[0]]),s=0;s<this.selectedRows.length;s++)this.element.find("tbody > tr "+r+"[value="+this.selectedRows[s]+"]").prop("checked",!0).parents("tr").addClass(this.options.css.selected)._bgAria("selected","true");this.element.trigger("selected"+T,[o])}}return this},E.prototype.deselect=function(e){if(this.selection){e=e||this.currentRows.propValues(this.identifier);for(var i,s,n,o=[];e.length>0;)if(i=e.pop(),n=t.inArray(i,this.selectedRows),-1!==n)for(s=0;s<this.currentRows.length;s++)if(this.currentRows[s][this.identifier]==i){o.push(this.currentRows[s]),this.selectedRows.splice(n,1);break}if(o.length>0){var r=a(this.options.css.selectBox);for(this.element.find("thead "+r).prop("checked",!1),s=0;s<o.length;s++)this.element.find("tbody > tr "+r+"[value="+o[s][this.identifier]+"]").prop("checked",!1).parents("tr").removeClass(this.options.css.selected)._bgAria("selected","false");this.element.trigger("deselected"+T,[o])}}return this},E.prototype.sort=function(e){var i=e?t.extend({},e):{};return i===this.sortDictionary?this:(this.sortDictionary=i,I.call(this),B.call(this),u.call(this),this)},E.prototype.getColumnSettings=function(){return t.merge([],this.columns)},E.prototype.getCurrentIdentifiers=function(){var t,e,i=[];if(this.identifier)for(t=this.currentRows.length,e=0;t>e;e++)i.push(this.currentRows[e][this.identifier]);return i},E.prototype.getRowByIdentifier=function(t){if(this.identifier){var e,i,s,n,o;for(s=this.currentRows.length,o=0;s>o&&(e=this.currentRows[o],e[this.identifier]!=t);o++);if(s>o){i={};for(n in e)i[n]=e[n];return i}}},E.prototype.getCurrentPage=function(){return this.current},E.prototype.getCurrentRows=function(){return t.merge([],this.currentRows)},E.prototype.getRowCount=function(){return this.rowCount},E.prototype.getSearchPhrase=function(){return this.searchPhrase},E.prototype.getSelectedRows=function(){return t.merge([],this.selectedRows)},E.prototype.getSortDictionary=function(){return t.extend({},this.sortDictionary)},E.prototype.getTotalPageCount=function(){return this.totalPages},E.prototype.getTotalRowCount=function(){return this.total},t.fn.extend({_bgAria:function(t,e){return e?this.attr("aria-"+t,e):this.attr("aria-"+t)},_bgBusyAria:function(t){return null==t||t?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(t){return this.removeAttr("aria-"+t)},_bgEnableAria:function(t){return null==t||t?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(t){return null==t||t?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(t){return null==t||t?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(t){return null==t||t?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(t){return t?this.attr("id",t):this.attr("id")}}),!String.prototype.resolve){var H={checked:function(t){return"boolean"==typeof t?t?'checked="checked"':"":t}};String.prototype.resolve=function(e,i){var s=this;return t.each(e,function(e,n){if(null!=n&&"function"!=typeof n)if("object"==typeof n){var o=i?t.extend([],i):[];o.push(e),s=s.resolve(n,o)+""}else{H&&H[e]&&"function"==typeof H[e]&&(n=H[e](n)),e=i?i.join(".")+"."+e:e;var r=new RegExp("\\{\\{"+e+"\\}\\}","gm");s=s.replace(r,n.replace?n.replace(/\$/gi,"&#36;"):n)}}),s}}Array.prototype.first||(Array.prototype.first=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(t(i))return i}return null}),Array.prototype.contains||(Array.prototype.contains=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(t(i))return!0}return!1}),Array.prototype.page||(Array.prototype.page=function(t,e){var i=(t-1)*e,s=i+e;return this.length>i?this.length>s?this.slice(i,s):this.slice(i):[]}),Array.prototype.where||(Array.prototype.where=function(t){for(var e=[],i=0;i<this.length;i++){var s=this[i];t(s)&&e.push(s)}return e}),Array.prototype.propValues||(Array.prototype.propValues=function(t){for(var e=[],i=0;i<this.length;i++)e.push(this[i][t]);return e});var F=t.fn.bootgrid;t.fn.bootgrid=function(e){var i=Array.prototype.slice.call(arguments,1),s=null,n=this.each(function(n){var o=t(this),r=o.data(T),a="object"==typeof e&&e;if((r||"destroy"!==e)&&(r||(o.data(T,r=new E(this,a)),c.call(r)),"string"==typeof e))if(0===e.indexOf("get")&&0===n)s=r[e].apply(r,i);else if(0!==e.indexOf("get"))return r[e].apply(r,i)});return"string"==typeof e&&0===e.indexOf("get")?s:n},t.fn.bootgrid.Constructor=E,t.fn.bootgrid.noConflict=function(){return t.fn.bootgrid=F,this},t('[data-toggle="bootgrid"]').bootgrid()}(jQuery,window);
